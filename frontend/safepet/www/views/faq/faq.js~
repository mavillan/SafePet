angular.module('safePet')


.controller('menuController', ['$scope','$auth','$state','userInfo', '$ionicPopup', function($scope,$auth,$state, userInfo, $ionicPopup){
        $scope.showHeader = false;
	userInfo.$promise.then(function(user){
		$scope.menuTitle = user.displayName;
	});
	
	$scope.logout = function(){
		$auth.logout()
		.then(function() {
            		$state.go("login");
        	});
	};

	$scope.goPerfil = function(){
		$scope.showHeader = true;
		$state.go('app.perfil');
	};
	
	  $scope.showAlert = function() {
   		var alertPopup = $ionicPopup.alert({
     			title: 'Acerca de SafePet',
     			template: 'SafePet es un producto de OverPi pensado en la seguridad de tu perro. Si desea obtener mayor información puede dirigirse a nuestra <a href="http://overpi.feriadesoftware.cl/">Página web</a>' 
   		});
		$state.go('app.mainList');
 	};
	
}]);
